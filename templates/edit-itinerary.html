{% extends 'base.html' %}

{% block title %} View Itinerary{% endblock %}


{% block body %}
{% set itin_id = itinerary.id %}

<div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button id="edit-itin-btn" type="button" hidden>Edit</button>
    <!-- <button id="save-edits-btn" type="submit">Save</button> -->
  </div>
<br>
<h2>{{itinerary.title}}</h2>

<br>
<form action="/itinerary/{{itin_id}}/edit" id="edit-itin-form" method="post">
  <p id="itin_id" name="itin_id" hidden>{{itinerary.id}}</p>
  {% for key, value in sched_acts_grouped_by_city.items() %}
<br>
<div class="card" style="width: 72rem;">
    <div class="card-body">
      <h5 class="card-title">{{ key|e }}</h5>
    </div>
    <ul class="list-group list-group-flush">
    {% for items in value %}
    <div>
      <input type="checkbox" id="{{items.id}}" name="sched-acts-data" value="{{items.id}}">
      <label for="{{items.id}}">
        <li class="list-group-item">{{items.act.type}}: {{items.act.name}}
        </li>
      </label>
      <span>
        <label for="{{items.act.name}} date">Date and Time:</label>

        <input type="datetime-local" id="{{items.id}} datetime"
                name="{{items.id}}" placeholder="2022-04-16T00:30"
                min="2022-04-01T00:00" max="2050-06-14T00:00">
      </span> 

    </div>
    

      {% endfor %}


{% endfor %}

      <li id ="city-notes" class="city-notes">
       <div class="input-group">
        <span class="input-group-text">Notes:</span>
        <textarea class="form-control" name="notes" aria-label="notes"></textarea>
      </div>
      </li>
    </ul>
  </div>
<br>
<span>
  <button id="delete-edits-btn" type="submit" formaction="/itinerary/{{itin_id}}/delete">DELETE selected items</button>
  <p>or</p>
  <button id="save-edits-btn" type="submit">Save Updates</button>
</span>

</form>
<br>
<br>





{% endblock %}