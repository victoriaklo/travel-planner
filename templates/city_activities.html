{% extends 'base.html' %}
{% block title %}City and Activities{% endblock %}

{% block head %}
<script type="text/javascript">
  const city_id = {{city.id}};
</script>

{% endblock %}

{% block body %}

<h1 id="city_header">{{city.city}}</h1>

<div>

  <form action="/new_itinerary" id="activities-form" method="post">
      <input type="hidden" name="city_id" value="{{city.id}}">
      <button id="restaurants-btn" class="restaurants" type="button"> check out restaurants: </button>
      <h3>Resturants:</h3>
      <div id="restaurants-data" class="restaurants"></div>
      <br>
      <button id="attractions-btn" class="attractions" type="button"> check out attractions: </button>
      <h3>Attractions:</h3>
      <div id="attractions-data" class="attractions"></div>
      <br>
      <br>
      <!-- add this later: https://getbootstrap.com/docs/5.0/components/carousel/ -->
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div id="attractions-data" class="attractions"></div>
          <div class="carousel-item active">
            <img class="d-block w-300" src="..." alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-300" src="..." alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block w-300" src="..." alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <h2>Add items to your Itinerary...</h2>
      <p>Are you creating a new itinerary or adding to an existing one?:</p>
      <div>
        <input type="radio" id="new-itinerary"
         name="select-itinerary" value="new">
        <label for="new">New Itinerary</label>
    
        <input type="radio" id="update-itinerary"
         name="select-itinerary" value="update">
        <label for="update">Update existing Itinerary</label>
      </div>

      <div class="submit-new-itinerary">
        <label for="name">Enter the title of your Itinerary: </label>
        <input type="text" name="title" id="itinerary-title" required>
        <button id="form-submit" type="submit">Create New Itinerary</button>
      </div>
      
      <br>
      <br>
      <div class="submit-update">
        <label for="itinerary-select">Choose an itinerary:</label>

        <select name="update-itinerary" id="itinerary-select">
          
            <option value="title">--Choose an itinerary you want to update--</option>
            {% for itinerary in itinerary_list %}
            <option name="{{itinerary.id}}" value="{{itinerary.id}}">{{itinerary.title}}</option>
            {% endfor%}
        </select>
      <button id="update-itinerary-btn" type="submit" formaction="/update_itinerary">Add to Existing Itinerary</button>
      </div>
  </form>
</div>
<br><br>




 <!-- when you write your own js file, you need to add them at the bottom of html  -->
<script src="/static/js/get-attractions.js"></script>
<script src="/static/js/get-restaurants.js"></script>
<script src="/static/js/update-itinerary.js"></script>

{% endblock %}
