{% extends 'base.html' %}

{% block title %} View Itinerary{% endblock %}


{% block body %}
{% set itin_id = itinerary.id %}

<div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button id="edit-itin-btn" type="button"><a href="/itinerary/{{itin_id}}/edit">Edit</a></button>
  </div>
  <br>
  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button id="flight-btn" type="button"><a href="/itinerary/{{itin_id}}/flights">Add Flight Here</a></button>
  </div>
<br>
<div class="d-grid gap-2 d-md-flex justify-content-md-end">
  <form action="/itinerary/{{itin_id}}" method="post">
    <button id="delete-itin-btn" type="submit">DELETE FOREVER</button>
  </form>
  
</div>
<br>
<h2>{{itinerary.title}}</h2>

<hr>

<div>
  {% for date, sched_acts_for_date in sched_acts_by_date.items() %}
    <div display="flex">
      <div>
        <strong>Date: {{date}}</strong>
        <ol>
          {% for sched_act in sched_acts_for_date %}
          <div display="flex">
            <div>
              {{sched_act.datetime}} - {{sched_act.act.city.city}} {{sched_act.act.type}}: {{sched_act.act.name}}
            </div>
          </div>
  {% endfor %}
        </ol>
        
      </div>
    </div>
    {% endfor %}
  </div>


<h2>Your booked flights:</h2>
<hr>
{% for flight in flights %}
<div>
  <strong>Depart</strong> {{flight.depart_airport}}:{{flight.depart_time}} <strong>Arrive</strong> {{flight.arrival_airport}}: {{flight.arrival_time}}
</div>
{% endfor%}

<!-- <div>
{% for sched_act in itinerary.sched_acts %}
  <div display="flex">
    <div>
      {{sched_act.datetime}}: ({{sched_act.act.type}}) {{sched_act.act.name}}
      
    </div>
  </div>
  {% endfor %}
</div>

 -->


{% endblock %}